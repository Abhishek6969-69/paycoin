(()=>{var e={};e.id=25,e.ids=[25],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},38539:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l}),t(94826),t(68032),t(35866),t(94034);var s=t(23191),a=t(88716),i=t(37922),n=t.n(i),o=t(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let l=["",{children:["(dashboard)",{children:["transfer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94826)),"/Users/abhishekyadav/Desktop/coinpay/apps/user-app/app/(dashboard)/transfer/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,68032)),"/Users/abhishekyadav/Desktop/coinpay/apps/user-app/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94034)),"/Users/abhishekyadav/Desktop/coinpay/apps/user-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/abhishekyadav/Desktop/coinpay/apps/user-app/app/(dashboard)/transfer/page.tsx"],u="/(dashboard)/transfer/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/transfer/page",pathname:"/transfer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},69424:(e,r,t)=>{let s={"75e404fe7df6c781cc45324a5c3b1c37b8056474":()=>Promise.resolve().then(t.bind(t,18859)).then(e=>e.default)};async function a(e,...r){return(await s[e]()).apply(null,r)}e.exports={"75e404fe7df6c781cc45324a5c3b1c37b8056474":a.bind(null,"75e404fe7df6c781cc45324a5c3b1c37b8056474")}},83606:(e,r,t)=>{Promise.resolve().then(t.bind(t,29760))},29760:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(10326),a=t(33431),i=t(17577);t(68298);var n=t(11695);function o(){let e=(0,n.useSession)(),[r,t]=(0,i.useState)([]);return s.jsx("div",{className:"flex mt-10 justify-center items-center px-4 sm:px-6 lg:px-8 w-full max-w-4xl mx-auto",children:(0,s.jsxs)(a.Z,{title:"P2P Transaction History",className:"w-full bg-gradient-to-br from-gray-900 to-[#1C1F3A] border border-gray-700 shadow-xl rounded-xl overflow-hidden",children:[s.jsx("div",{className:"pt-2 max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",children:r.length>0?s.jsx("div",{className:"divide-y divide-gray-700/50",children:r.map((r,t)=>(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row py-5 space-y-3 sm:space-y-0 sm:justify-between px-6 hover:bg-gray-800/20 transition-colors duration-200",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-medium text-gray-200",children:Number(e?.data?.user?.id)===r.fromUserId?"Sent Money":"Received Money"}),s.jsx("div",{className:"text-gray-400 text-xs mt-1",children:r.timestamp.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsxs)("div",{className:"capitalize",children:[0===t&&s.jsx("div",{className:"text-sm font-medium text-gray-400 mb-1",children:"Status"}),s.jsx("span",{className:"text-green-400 bg-green-900/20 px-3 py-1 rounded-full text-xs font-medium",children:"Success"})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-end",children:[0===t&&s.jsx("div",{className:"text-sm font-medium text-gray-400 mb-1 text-right",children:"Amount"}),(0,s.jsxs)("span",{className:`${Number(e?.data?.user?.id)===r.fromUserId?"text-red-400":"text-green-400"} font-medium text-base`,children:[Number(e?.data?.user?.id)===r.fromUserId?"-":"+"," â‚¹",(r.amount/100).toFixed(2)]})]})]},r.id))}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[s.jsx("div",{className:"bg-gray-800/50 rounded-full p-4 mb-4",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("p",{className:"text-gray-400 text-center",children:"No transactions found"}),s.jsx("p",{className:"text-gray-500 text-sm text-center mt-1",children:"Your transaction history will appear here"})]})}),r.length>0&&(0,s.jsxs)("div",{className:"bg-gray-900/80 py-4 px-6 text-center text-xs text-gray-400",children:["Showing ",r.length," transaction",1!==r.length?"s":""]})]})})}},68298:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s}),t(15424);let s=(0,t(46242).$)("75e404fe7df6c781cc45324a5c3b1c37b8056474")},94826:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/abhishekyadav/Desktop/coinpay/apps/user-app/app/(dashboard)/transfer/page.tsx#default`)},24259:(e,r,t)=>{"use strict";t.d(r,{L:()=>o});var s=t(16920),a=t(12495),i=t(40038),n=t.n(i);let o={providers:[(0,a.Z)({name:"Credentials",credentials:{name:{label:"Name",type:"text",placeholder:"your name",required:!0},phone:{label:"Phone number",type:"text",placeholder:"1231231231",required:!0},password:{label:"Password",type:"password",required:!0}},async authorize(e){let r=await n().hash(e.password,10),t=await s.Z.user.findFirst({where:{number:e.phone}});if(t)return await n().compare(e.password,t.password)?(console.log(t.name),{id:t.id.toString(),name:t.name,email:t.number}):null;try{let t=await s.Z.user.create({data:{name:e.name,number:e.phone,password:r}});return{id:t.id.toString(),name:t.name,email:t.number}}catch(e){await s.Z.$disconnect(),console.error(e)}return null}})],secret:process.env.JWT_SECRET||"secret",callbacks:{jwt:async({token:e,user:r})=>(r&&(e.name=r.name||e.name,e.email=r.email||e.email),e),async session({token:e,session:r}){r.user.id=e.sub,r.user.token=e.jti,r.user.name=e.name||r.user.name,r.user.email=e.email||r.user.email;try{await s.Z.balance.upsert({where:{userId:Number(r.user.id)},update:{},create:{userId:Number(r.user.id),amount:Number(1e6*Math.random()),locked:0}})}catch(e){await s.Z.$disconnect()}finally{}return r}},pages:{signIn:"/user/signin"}}},18859:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(27745);t(26461);var a=t(16920),i=t(19031),n=t(24259);async function o(){try{let e=await (0,i.getServerSession)(n.L);if(!e?.user)return{status:401,data:{message:"Unauthorized"}};return{transfer:await a.Z.p2pTransfer.findMany({where:{OR:[{fromUserId:Number(e?.user?.id)},{toUserId:Number(e?.user?.id)}]}}),session:e}}finally{await a.Z.$disconnect()}}(0,t(85723).h)([o]),(0,s.j)("75e404fe7df6c781cc45324a5c3b1c37b8056474",o)},16920:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var s=t(53524);let a=globalThis.prismaGlobal??new s.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,865,621,43,362,207,40],()=>t(38539));module.exports=s})();