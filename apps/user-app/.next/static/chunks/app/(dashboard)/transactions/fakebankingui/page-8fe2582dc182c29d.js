(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[338],{6772:function(e,t,r){Promise.resolve().then(r.bind(r,1391))},1391:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(7437),s=r(9628),a=r(8028),o=r(9376),l=r(2265),c=r(3060);r(3079);var i=(0,r(2119).$)("0e0c44f25bbccc0a534b370dd262a98c8600693d"),d=r(6645),u=r(4562),m=()=>{var e,t;let[r,m]=(0,l.useState)(null),[f,h]=(0,l.useState)(null),x=(0,o.useRouter)(),b=(0,a.useSession)();if((0,l.useEffect)(()=>{(async()=>{try{let e=await c.Z.get("".concat("http://localhost:3004","/transactions"));m(e.data)}catch(e){console.error("Error fetching transaction:",e)}})(),h(new URLSearchParams(window.location.search).get("token"))},[]),!r||!f||!r[f])return(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen text-gray-300",children:(0,n.jsx)("h1",{className:"text-xl font-semibold bg-red-900/20 border border-red-500/30 p-4 rounded-lg",children:"Invalid transaction"})});let{amount:g,user_identifier:v}=r[f],y=async()=>{let e=u.Am.loading("Processing your request...");try{let n=await i({token:f,amount:g,user_identifier:v});if(u.Am.dismiss(e),n){var t,r;u.Am.dismiss(e),u.Am.success("succesfuly sent ".concat(g," to  ").concat(null===(r=b.data)||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.name))}else u.Am.error("Transfer failed. Please try again.");x.push("".concat("http://localhost:3001","/transactions"))}catch(t){u.Am.dismiss(e),u.Am.error("An error occurred. Please try again."),console.error("Transfer failed:",t)}};return(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen px-4 md:px-0",children:(0,n.jsxs)(s.Z,{title:"",className:"w-full md:w-[500px] shadow-xl bg-gradient-to-br from-gray-900 to-[#1C1F3A] border border-gray-700 p-6",children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-100 text-center",children:"Payment Confirmation"}),(0,n.jsxs)("p",{className:"text-green-400 mt-4 text-center text-lg",children:["Processing payment of ₹",g," to ",null===(t=b.data)||void 0===t?void 0:null===(e=t.user)||void 0===e?void 0:e.name,"’s wallet"]}),(0,n.jsx)(d.z,{type:"submit",className:"w-full py-3 mt-6 text-lg font-medium bg-gradient-to-r from-yellow-400 to-orange-500 text-black hover:from-yellow-300 hover:to-orange-400 rounded-lg shadow-lg hover:shadow-yellow-500/20 transition-all duration-300",onClick:y,children:"Confirm Payment"})]})})}},6645:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(7437);let s=e=>{let{onClick:t,children:r,className:s,type:a}=e;return(0,n.jsx)("button",{className:"bg-blue-500 text-white hover:bg-blue-600\n    ".concat(s," text-black font-semibold py-2 px-4 rounded-lg transition-all duration-300 \n    "),onClick:t,type:a,children:r})}},9628:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);function s(e){let{title:t,children:r,className:s}=e;return(0,n.jsxs)("div",{className:" p-4 rounded bg-gradient-to-br from-[#20263D] via-[#2A3152] to-[#383F6B]\n text-white\n\n\n mx-4 ".concat(s),children:[(0,n.jsx)("h1",{className:"text-xl border-b   pb-2",children:t}),(0,n.jsx)("div",{children:r})]})}}},function(e){e.O(0,[28,562,965,971,117,744],function(){return e(e.s=6772)}),_N_E=e.O()}]);