(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{7186:function(e,t,s){Promise.resolve().then(s.bind(s,9471)),Promise.resolve().then(s.bind(s,2112)),Promise.resolve().then(s.bind(s,6603))},9471:function(e,t,s){"use strict";s.d(t,{default:function(){return m}});var r=s(7437),a=s(2265),n=s(9628),l=s(6365),i=s(6645);s(3079);var c=(0,s(2119).$)("9132cad5f07212d18ba7dac84a861a817cc79727"),o=s(9255),d=s(1675),u=s(4562);function m(){var e,t;let s=[{name:"HDFC",redirecturl:"https://netbanking.hdfcbank.com/netbanking/"},{name:"KOTAK",redirecturl:"https://netbanking.kotak.com/knb2/"},{name:"State Bank of India",redirecturl:"https://netbanking.kotak.com/knb2/"}],[m,x]=(0,a.useState)(null===(e=s[0])||void 0===e?void 0:e.redirecturl),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[y,v]=(0,a.useState)((null===(t=s[0])||void 0===t?void 0:t.name)||""),p=async()=>{if(!h||!y){u.Am.error("Please fill in all fields!");return}let e=Number(h);if(!h||isNaN(e)||e<=0){u.Am.error("Please fill in valid  positive value!");return}let t=u.Am.loading("Processing your request...");try{let e=await c({amount:h,provider:y});e&&e.token&&(b(e.token),u.Am.dismiss(t),u.Am.success("Redirecting to bank server for payment approval..."),window.location.href=e.redirectUrl)}catch(e){u.Am.dismiss(t),u.Am.error("An error occurred. Please try again."),console.error("Transfer failed:",e)}};return(0,r.jsx)(n.Z,{title:"Add Money",className:"w-full shadow-sm bg-white border border-gray-200",children:(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{label:"Amount",className:"text-sm font-medium text-gray-700"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"₹"}),(0,r.jsx)(l.Z,{placeholder:"Enter amount",type:"number",className:"w-full pl-8 bg-white border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-500/20 rounded-lg transition-all",onChange:e=>f(e)})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{label:"Select Bank",className:"text-sm font-medium text-gray-700"}),(0,r.jsx)(d.Z,{onselect:e=>{let t=s.find(t=>t.name===e);x((null==t?void 0:t.redirecturl)||""),v((null==t?void 0:t.name)||"")},options:s.map(e=>({key:e.name,value:e.name}))})]}),(0,r.jsx)(i.z,{type:"submit",variant:"primary",size:"lg",className:"w-full",onClick:p,children:"Add Money"})]})})}},2112:function(e,t,s){"use strict";s.d(t,{OnRampTransactions:function(){return l}});var r=s(7437),a=s(9628),n=s(2265);let l=e=>{let{transactions:t}=e,[s,l]=(0,n.useState)(t);(0,n.useEffect)(()=>{let e=setInterval(()=>{let e=new Date().getTime();l(s.map(t=>"Processing"===t.status&&(e-new Date(t.time).getTime())/6e4>1440?{...t,status:"Failed"}:t))},1e4);return()=>clearInterval(e)},[s]);let i=[...s].sort((e,t)=>t.time.getTime()-e.time.getTime()).slice(0,10);return i.length?(0,r.jsx)(a.Z,{title:"Recent Transactions",className:"border border-gray-200 bg-white shadow-sm h-[400px] overflow-hidden",children:(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"max-h-[300px] overflow-y-auto space-y-4",children:i.map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Received INR"}),(0,r.jsx)("div",{className:"text-gray-500 text-xs mt-1",children:new Date(e.time).toDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat("Success"===e.status?"bg-green-100 text-green-800":"Processing"===e.status?"bg-yellow-100 text-yellow-800":"Failed"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status}),(0,r.jsxs)("span",{className:"text-green-600 font-semibold",children:["+ ₹",(e.amount/100).toFixed(2)]})]})]},t))})})}):(0,r.jsx)(a.Z,{title:"Recent Transactions",className:"border border-gray-200 bg-white shadow-sm",children:(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 mb-2",children:(0,r.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"No transactions yet"}),(0,r.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"Your transactions will appear here"})]})})}},6603:function(e,t,s){"use strict";s.d(t,{default:function(){return l}});var r=s(7437),a=s(9376),n=s(2265);function l(){let e=(0,a.useSearchParams)(),[t,s]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{i(!0)},[]),(0,n.useEffect)(()=>{if(!l)return;let t=e.get("status"),a=e.get("error");"success"===t?s((0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-green-600 mr-3",children:"✅"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-green-800 font-semibold",children:"Payment Successful!"}),(0,r.jsx)("p",{className:"text-green-700 text-sm",children:"Your transaction has been processed successfully."})]})]})})):"failed"===t?s((0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-red-600 mr-3",children:"❌"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-red-800 font-semibold",children:"Payment Failed"}),(0,r.jsx)("p",{className:"text-red-700 text-sm",children:"webhook_failed"===a?"Unable to process payment. Please try again.":"missing_fields"===a?"Invalid payment information. Please try again.":"Transaction failed. Please try again."})]})]})})):"declined"===t&&s((0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"text-yellow-600 mr-3",children:"⚠️"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-yellow-800 font-semibold",children:"Payment Declined"}),(0,r.jsx)("p",{className:"text-yellow-700 text-sm",children:"You have declined the payment request."})]})]})}))},[e,l]),l)?t:(0,r.jsx)("div",{className:"h-4"})}},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},2119:function(e,t,s){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let r=s(3079);function a(e){let{createServerReference:t}=s(6671);return t(e,r.callServer)}},6365:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437);function a(e){let{placeholder:t,onChange:s,type:a,className:n,maxlength:l}=e;return(0,r.jsx)("div",{className:" ",children:(0,r.jsx)("input",{maxLength:l,className:"border  px-4 py-2  rounded    ".concat(n),type:a,placeholder:t,onChange:e=>s(e.target.value)})})}s(2265)},6645:function(e,t,s){"use strict";s.d(t,{z:function(){return a}});var r=s(7437);let a=e=>{let{onClick:t,children:s,className:a="",type:n="button",variant:l="primary",size:i="md",disabled:c=!1,loading:o=!1}=e;return(0,r.jsxs)("button",{className:"".concat("font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center"," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"}[i]," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 border border-gray-200",outline:"border border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:ring-gray-500"}[l]," ").concat(a),onClick:t,type:n,disabled:c||o,children:[o&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})}},9628:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437);function a(e){let{title:t,children:s,className:a}=e;return(0,r.jsxs)("div",{className:"rounded-lg bg-white text-gray-900 ".concat(a),children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:t})}),(0,r.jsx)("div",{children:s})]})}},9255:function(e,t,s){"use strict";s.d(t,{_:function(){return a}});var r=s(7437);function a(e){let{label:t,className:s}=e;return(0,r.jsx)("label",{className:"block ml-2  mt-2 mb-1   ".concat(s),children:t})}s(2265)},1675:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437);function a(e){let{onselect:t,options:s,className:a}=e;return(0,r.jsx)("div",{className:"w-full ".concat(a),children:(0,r.jsx)("select",{className:"w-full text-gray-500 px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:e=>{t(e.target.value)},children:s.map(e=>(0,r.jsx)("option",{value:e.key,children:e.value},e.key))})})}}},function(e){e.O(0,[562,971,117,744],function(){return e(e.s=7186)}),_N_E=e.O()}]);