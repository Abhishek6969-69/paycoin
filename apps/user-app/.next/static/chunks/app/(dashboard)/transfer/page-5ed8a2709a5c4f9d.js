(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{356:function(e,t,s){Promise.resolve().then(s.bind(s,2994))},2994:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var r=s(7437),n=s(9628),i=s(2265),c=s(4266),l=s(8028);function a(){let e=(0,l.useSession)(),[t,s]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async function(){try{let{transfer:e}=await (0,c.Z)();if(console.log(e,"p2p"),!Array.isArray(e)){console.error("Invalid transfer data format ❌",e);return}s(e.map(e=>({...e,timestamp:new Date(e.timestamp)})))}catch(e){console.error("Error fetching transfers ❌",e)}})()},[]),(0,r.jsx)("div",{className:"flex mt-10 justify-center items-center px-4 sm:px-6 lg:px-8 w-full max-w-4xl mx-auto",children:(0,r.jsx)(n.Z,{title:"P2P Transaction History",className:"text-[#333333] bg-[FBFBFB] w-full",children:(0,r.jsx)("div",{className:"pt-2",children:t.length>0?t.map(t=>{var s,n,i,c,l,a;return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row py-4 space-y-2 sm:space-y-0 sm:justify-between px-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm",children:Number(null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(s=n.user)||void 0===s?void 0:s.id)===t.fromUserId?"Sent INR":"Received INR"}),(0,r.jsx)("div",{className:"text-[#333333] text-xs",children:t.timestamp.toLocaleString()})]}),(0,r.jsxs)("div",{className:"capitalize",children:["status: ",(0,r.jsx)("span",{className:"text-green-500",children:"success"})]}),(0,r.jsxs)("div",{className:"".concat(Number(null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(i=c.user)||void 0===i?void 0:i.id)===t.fromUserId?"text-red-500":"text-green-400"," flex flex-col justify-center"),children:[Number(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(l=a.user)||void 0===l?void 0:l.id)===t.fromUserId?"-":"+"," Rs ",(t.amount/100).toFixed(2)]})]},t.id)}):(0,r.jsx)("p",{className:"text-gray-500 px-4",children:"No transactions found"})})})})}},4266:function(e,t,s){"use strict";s(3079);var r=s(2119);t.Z=(0,r.$)("75e404fe7df6c781cc45324a5c3b1c37b8056474")},2119:function(e,t,s){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let r=s(3079);function n(e){let{createServerReference:t}=s(6671);return t(e,r.callServer)}},9628:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(7437);function n(e){let{title:t,children:s,className:n}=e;return(0,r.jsxs)("div",{className:"border p-4 rounded bg-white mx-4 ".concat(n),children:[(0,r.jsx)("h1",{className:"text-xl border-b   pb-2",children:t}),(0,r.jsx)("div",{children:s})]})}}},function(e){e.O(0,[28,971,117,744],function(){return e(e.s=356)}),_N_E=e.O()}]);