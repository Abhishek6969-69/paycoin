(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{356:function(e,r,t){Promise.resolve().then(t.bind(t,2994))},2994:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var s=t(7437),n=t(9628),i=t(2265),a=t(4266),l=t(8028);function d(){let e=(0,l.useSession)(),[r,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async function(){try{let{transfer:e}=await (0,a.Z)();if(!Array.isArray(e)){console.error("Invalid transfer data format ❌",e);return}t(e.map(e=>({...e,timestamp:new Date(e.timestamp)})).sort((e,r)=>r.timestamp.getTime()-e.timestamp.getTime()).slice(0,15))}catch(e){console.error("Error fetching transfers ❌",e)}})()},[]),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Transfer History"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"Track all your peer-to-peer transactions"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Total Transfers"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]}),(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl flex items-center justify-center border border-blue-200",children:(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB8"})})]})]})}),(0,s.jsx)(n.Z,{title:"Recent Transfers",className:"w-full bg-white border border-gray-200 shadow-sm",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("div",{className:"max-h-[500px] overflow-y-auto",children:r.length>0?(0,s.jsx)("div",{className:"space-y-4",children:r.map((r,t)=>{var n,i,a,l,d,c,o,m,u,x;return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(Number(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(n=i.user)||void 0===n?void 0:n.id)===r.fromUserId?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:Number(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(a=l.user)||void 0===a?void 0:a.id)===r.fromUserId?"↗":"↙"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:Number(null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(d=c.user)||void 0===d?void 0:d.id)===r.fromUserId?"Sent Money":"Received Money"}),(0,s.jsx)("div",{className:"text-gray-500 text-xs",children:r.timestamp.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Success"}),(0,s.jsxs)("span",{className:"font-semibold ".concat(Number(null==e?void 0:null===(m=e.data)||void 0===m?void 0:null===(o=m.user)||void 0===o?void 0:o.id)===r.fromUserId?"text-red-600":"text-green-600"),children:[Number(null==e?void 0:null===(x=e.data)||void 0===x?void 0:null===(u=x.user)||void 0===u?void 0:u.id)===r.fromUserId?"-":"+"," ₹",(r.amount/100).toFixed(2)]})]})]},r.id)})}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,s.jsx)("p",{className:"text-gray-500 font-medium",children:"No transfers yet"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Your P2P transfers will appear here"})]})}),r.length>0&&(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100 text-center text-xs text-gray-500",children:["Showing ",r.length," transfer",1!==r.length?"s":""]})]})})]})})}},4266:function(e,r,t){"use strict";t(3079);var s=t(2119);r.Z=(0,s.$)("75e404fe7df6c781cc45324a5c3b1c37b8056474")},2119:function(e,r,t){"use strict";Object.defineProperty(r,"$",{enumerable:!0,get:function(){return n}});let s=t(3079);function n(e){let{createServerReference:r}=t(6671);return r(e,s.callServer)}},9628:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var s=t(7437);function n(e){let{title:r,children:t,className:n}=e;return(0,s.jsxs)("div",{className:"rounded-lg bg-white text-gray-900 ".concat(n),children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:r})}),(0,s.jsx)("div",{children:t})]})}}},function(e){e.O(0,[28,971,117,744],function(){return e(e.s=356)}),_N_E=e.O()}]);