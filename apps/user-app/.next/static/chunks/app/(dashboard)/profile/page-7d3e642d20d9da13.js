(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{2820:function(e,t,l){Promise.resolve().then(l.bind(l,2273))},2273:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return u}});var s=l(7437),a=l(2265),r=l(8028),i=l(3145),n=l(4258);function o(e){let{userData:t,onClose:l}=e,{data:o}=(0,r.useSession)(),[c,d]=(0,a.useState)(null),[u,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{!async function(){try{let e=await (0,n.Z)();x(e)}catch(e){console.error("Error fetching user data:",e)}}()},[]);let h=async()=>{var e;if(!c)return alert("Please select an image to upload!");let t=new FormData;t.append("image",c),t.append("userId",String((null==o?void 0:null===(e=o.user)||void 0===e?void 0:e.id)||""));let l=await fetch("".concat("http://localhost:3001","/api/upload"),{method:"POST",body:t}),s=await l.json();l.ok?(console.log("Image uploaded:",s.imageUrl),alert("Image uploaded successfully!")):console.error("Upload failed:",s.error)};return(0,s.jsxs)("div",{className:"max-w-sm w-[400px] bg-white border border-gray-200 rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"User Details"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(null==u?void 0:u.profileImage)?(0,s.jsx)(i.default,{className:" w-[100px] h-[100px] rounded-full object-cover",src:(null==u?void 0:u.profileImage)||"",width:144,height:144,alt:"User Photo"}):(0,s.jsx)("div",{className:"w-[100px] h-[100px] rounded-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-4xl text-gray-400",children:"\uD83D\uDC64"})}),(0,s.jsxs)("label",{className:"mt-2 text-blue-600 cursor-pointer hover:underline",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;d(null===(t=e.target.files)||void 0===t?void 0:t[0])}}),"Choose Photo"]})]}),(0,s.jsx)("button",{onClick:h,className:"mt-4 ml-24 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Upload Photo"})]})]})}var c=l(9628),d=l(6645);function u(){var e;let[t,l]=(0,a.useState)(null),[n,u]=(0,a.useState)(!1),{data:x}=(0,r.useSession)();(0,a.useEffect)(()=>{var e;async function t(){try{let e=await fetch("/api/user-details");if(!e.ok)throw Error("Failed to fetch user data");let t=await e.json();l(t)}catch(e){console.error("Error fetching user data:",e)}}(null==x?void 0:null===(e=x.user)||void 0===e?void 0:e.id)&&t()},[x]);let h=()=>u(!1);return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[n&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Edit Profile"}),(0,s.jsx)("button",{onClick:h,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,s.jsx)(o,{onClose:h,userData:t})]})}),(0,s.jsx)(c.Z,{title:"User Profile",className:"w-full md:w-[600px] mx-auto mt-8 p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"flex justify-center items-center",children:(null==t?void 0:t.profileImage)?(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(i.default,{className:"rounded-full w-[200px] h-[200px] border-4 border-primary/20 hover:border-primary/60 transition-all duration-300 shadow-lg",src:t.profileImage,alt:"user",width:200,height:200,priority:!0}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsx)("div",{className:"mt-4 ml-6",children:(0,s.jsx)(d.z,{type:"button",className:"",onClick:()=>u(!0),children:"Edit Profile"})})]}):(0,s.jsx)("div",{className:"w-[200px] h-[200px] rounded-full bg-gray-200 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-4xl text-gray-400",children:"\uD83D\uDC64"})})}),(0,s.jsxs)("div",{className:"space-y-6 px-4",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)("label",{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:(null==t?void 0:t.name)||"User"})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsx)("label",{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Email"}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:(null==x?void 0:null===(e=x.user)||void 0===e?void 0:e.email)||"N/A"})]})]})]})})]})}},4258:function(e,t,l){"use strict";l(3079);var s=l(2119);t.Z=(0,s.$)("b50eb04b0437b30a11f925bfa8d45272dd05b272")},6645:function(e,t,l){"use strict";l.d(t,{z:function(){return a}});var s=l(7437);let a=e=>{let{onClick:t,children:l,className:a,type:r}=e;return(0,s.jsx)("button",{className:"bg-blue-500 text-white hover:bg-blue-600\n    ".concat(a," text-black font-semibold py-2 px-4 rounded-lg transition-all duration-300 \n    "),onClick:t,type:r,children:l})}},9628:function(e,t,l){"use strict";l.d(t,{Z:function(){return a}});var s=l(7437);function a(e){let{title:t,children:l,className:a}=e;return(0,s.jsxs)("div",{className:"border p-4 rounded bg-white mx-4 ".concat(a),children:[(0,s.jsx)("h1",{className:"text-xl border-b   pb-2",children:t}),(0,s.jsx)("div",{children:l})]})}}},function(e){e.O(0,[28,158,971,117,744],function(){return e(e.s=2820)}),_N_E=e.O()}]);