(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{2820:function(e,r,s){Promise.resolve().then(s.bind(s,2273))},2273:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return x}});var l=s(7437),a=s(2265),t=s(8028),o=s(3145),i=s(6645);function n(e){let{userData:r,onClose:s,onProfileUpdate:n}=e,{data:d}=(0,t.useSession)(),[c,x]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),h=async()=>{if(!c){alert("Please select an image to upload!");return}m(!0);try{var e;let r=new FormData;r.append("image",c),r.append("userId",String((null==d?void 0:null===(e=d.user)||void 0===e?void 0:e.id)||""));let l=await fetch("/api/upload",{method:"POST",body:r}),a=await l.json();l.ok?(n(a.imageUrl),alert("Image uploaded successfully!"),s()):(console.error("Upload failed:",a.error),alert("Upload failed: "+(a.error||"Unknown error")))}catch(e){console.error("Upload error:",e),alert("An error occurred during upload")}finally{m(!1)}};return(0,l.jsxs)("div",{className:"space-y-6 bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(null==r?void 0:r.profileImage)?(0,l.jsx)(o.default,{className:"w-[100px] h-[100px] rounded-full object-cover border-2 border-gray-300",src:r.profileImage,width:100,height:100,alt:"User Photo"}):(0,l.jsx)("div",{className:"w-[100px] h-[100px] rounded-full bg-gray-100 flex items-center justify-center border border-gray-300",children:(0,l.jsx)("span",{className:"text-4xl text-gray-400",children:"\uD83D\uDC64"})}),(0,l.jsxs)("label",{className:"mt-4 cursor-pointer",children:[(0,l.jsx)("div",{className:"bg-gray-100 text-gray-700 hover:bg-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-all border border-gray-300",children:"Choose Photo"}),(0,l.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var r;let s=null===(r=e.target.files)||void 0===r?void 0:r[0];s&&x(s)}})]}),c&&(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",c.name]})]}),(0,l.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,l.jsx)(i.z,{variant:"secondary",onClick:s,children:"Cancel"}),(0,l.jsx)(i.z,{variant:"primary",onClick:h,disabled:u,children:u?"Uploading...":"Upload Photo"})]})]})}var d=s(9628),c=s(4258);function x(){var e;let[r,s]=(0,a.useState)(null),[x,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!0),{data:g}=(0,t.useSession)();(0,a.useEffect)(()=>{!async function(){try{h(!0);let e=await (0,c.Z)();s(e)}catch(e){console.error("Error fetching user data:",e)}finally{h(!1)}}()},[]);let b=()=>u(!1);return m?(0,l.jsx)("div",{className:"max-w-4xl mx-auto p-6 flex justify-center items-center min-h-[60vh]",children:(0,l.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,l.jsx)("div",{className:"rounded-full bg-gray-200 h-32 w-32 mb-4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-48 mb-4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-64"})]})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,l.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-50 to-purple-100 rounded-3xl mx-auto mb-6 flex items-center justify-center border border-purple-200",children:(0,l.jsx)("span",{className:"text-3xl",children:"\uD83D\uDC64"})}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"User Profile"}),(0,l.jsx)("p",{className:"text-lg text-gray-600",children:"Manage your account information and preferences"})]})}),x&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),(0,l.jsx)("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100 transition-all","aria-label":"Close",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)(n,{onClose:b,userData:r,onProfileUpdate:e=>{s(r=>({...r,profileImage:e}))}})]})}),(0,l.jsxs)(d.Z,{title:"",className:"w-full max-w-4xl mx-auto bg-white shadow-lg rounded-2xl overflow-hidden border border-gray-200",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Profile Information"}),(0,l.jsx)("p",{className:"text-purple-100 mt-2",children:"Your personal account details"})]}),(0,l.jsxs)("div",{className:"p-8 space-y-8",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(null==r?void 0:r.profileImage)?(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)(o.default,{className:"rounded-full w-48 h-48 border-4 border-purple-200 shadow-2xl hover:shadow-3xl transition-all duration-300 object-cover",src:r.profileImage,alt:"User profile",width:192,height:192,priority:!0}),(0,l.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white font-semibold",children:"Click to edit"})})]}):(0,l.jsx)("div",{className:"w-48 h-48 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center border-4 border-gray-300 shadow-lg",children:(0,l.jsx)("span",{className:"text-6xl text-gray-400",children:"\uD83D\uDC64"})}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)(i.z,{onClick:()=>u(!0),className:"px-8 py-3 text-lg font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",type:"submit",children:"Edit Profile"})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-8 border-t border-gray-200",children:[(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 block",children:"Full Name"}),(0,l.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:(null==r?void 0:r.name)||"User"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 block",children:"Email Address"}),(0,l.jsx)("h3",{className:"text-2xl font-bold text-gray-900 break-all",children:(null==r?void 0:r.email)||(null==g?void 0:null===(e=g.user)||void 0===e?void 0:e.email)||"N/A"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 block",children:"Phone Number"}),(0,l.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:(null==r?void 0:r.number)||"Not provided"})]}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,l.jsx)("label",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-3 block",children:"Account Status"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,l.jsx)("h3",{className:"text-2xl font-bold text-green-600",children:"Active"})]})]})]})]})]})]})})}},4258:function(e,r,s){"use strict";s(3079);var l=s(2119);r.Z=(0,l.$)("b50eb04b0437b30a11f925bfa8d45272dd05b272")},6645:function(e,r,s){"use strict";s.d(r,{z:function(){return a}});var l=s(7437);let a=e=>{let{onClick:r,children:s,className:a="",type:t="button",variant:o="primary",size:i="md",disabled:n=!1,loading:d=!1}=e;return(0,l.jsxs)("button",{className:"".concat("font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed inline-flex items-center justify-center"," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"}[i]," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 border border-gray-200",outline:"border border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500",ghost:"text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:ring-gray-500"}[o]," ").concat(a),onClick:r,type:t,disabled:n||d,children:[d&&(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})}},9628:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});var l=s(7437);function a(e){let{title:r,children:s,className:a}=e;return(0,l.jsxs)("div",{className:"rounded-lg bg-white text-gray-900 ".concat(a),children:[(0,l.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,l.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:r})}),(0,l.jsx)("div",{children:s})]})}}},function(e){e.O(0,[28,158,971,117,744],function(){return e(e.s=2820)}),_N_E=e.O()}]);