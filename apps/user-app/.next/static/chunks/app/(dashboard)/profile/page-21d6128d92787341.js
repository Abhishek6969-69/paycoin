(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{2820:function(e,s,t){Promise.resolve().then(t.bind(t,2273))},2273:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var l=t(7437),a=t(2265),r=t(3145),n=t(8028),i=t(4258);function c(e){let{userData:s,onClose:t}=e,{data:c}=(0,n.useSession)(),[o,d]=(0,a.useState)(null),[u,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{!async function(){try{let e=await (0,i.Z)();x(e)}catch(e){console.error("Error fetching user data:",e)}}()},[]);let m=async()=>{var e;if(!o)return alert("Please select an image to upload!");let s=new FormData;s.append("image",o),s.append("userId",String((null==c?void 0:null===(e=c.user)||void 0===e?void 0:e.id)||""));let t=await fetch("".concat("http://localhost:3001","/api/upload"),{method:"POST",body:s}),l=await t.json();t.ok?(console.log("Image uploaded:",l.imageUrl),alert("Image uploaded successfully!")):console.error("Upload failed:",l.error)};return(0,l.jsxs)("div",{className:"max-w-sm w-[400px] bg-white border border-gray-200 rounded-lg shadow-md p-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"User Details"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(null==u?void 0:u.profileImage)?(0,l.jsx)(r.default,{className:" w-[100px] h-[100px] rounded-full object-cover",src:(null==u?void 0:u.profileImage)||"",width:144,height:144,alt:"User Photo"}):(0,l.jsx)("div",{className:"w-[100px] h-[100px] rounded-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-4xl text-gray-400",children:"\uD83D\uDC64"})}),(0,l.jsxs)("label",{className:"mt-2 text-blue-600 cursor-pointer hover:underline",children:[(0,l.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;d(null===(s=e.target.files)||void 0===s?void 0:s[0])}}),"Choose Photo"]})]}),(0,l.jsx)("button",{onClick:m,className:"mt-4 ml-24 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Upload Photo"})]})]})}var o=t(9628),d=t(6645);function u(){let[e,s]=(0,a.useState)(null),[t,u]=(0,a.useState)(!1),{data:x}=(0,n.useSession)();(0,a.useEffect)(()=>{!async function(){try{let e=await (0,i.Z)();s(e)}catch(e){console.error("Error fetching user data:",e)}}()},[]);let m=()=>{u(!1)};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[t&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Edit Profile"}),(0,l.jsx)("button",{onClick:m,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),(0,l.jsx)(c,{onClose:m,userData:e})]})}),(0,l.jsx)(o.Z,{title:"User Profile",className:"w-full md:w-[600px] mx-auto mt-8 p-8 shadow-lg hover:shadow-xl transition-shadow duration-300",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsx)("div",{className:"flex justify-center items-center",children:(null==e?void 0:e.profileImage)?(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)(r.default,{className:"rounded-full w-[200px] h-[200px] border-4 border-primary/20 hover:border-primary/60 transition-all duration-300 shadow-lg",src:e.profileImage,alt:"user",width:200,height:200}),(0,l.jsx)("div",{className:"absolute    inset-0 rounded-full bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,l.jsx)("div",{className:"mt-4 ml-6",children:(0,l.jsx)(d.z,{type:"button",className:"",onClick:()=>u(!0),children:"Upload Image"})})]}):(0,l.jsx)("div",{className:"w-[200px] h-[200px] rounded-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-4xl text-gray-400",children:"\uD83D\uDC64"})})}),(0,l.jsxs)("div",{className:"space-y-6 px-4",children:[(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)("label",{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Name"}),(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:(null==e?void 0:e.name)||"User"})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,l.jsx)("label",{className:"text-sm text-gray-500 uppercase tracking-wider",children:"Phone"}),(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:(null==x?void 0:x.user.email)||"0000000000"})]})]})]})})]})}},4258:function(e,s,t){"use strict";t(3079);var l=t(2119);s.Z=(0,l.$)("b50eb04b0437b30a11f925bfa8d45272dd05b272")},6645:function(e,s,t){"use strict";t.d(s,{z:function(){return a}});var l=t(7437);let a=e=>{let{onClick:s,children:t,className:a,type:r}=e;return(0,l.jsx)("button",{className:"bg-blue-500 text-white hover:bg-blue-600\n    ".concat(a," text-black font-semibold py-2 px-4 rounded-lg transition-all duration-300 \n    "),onClick:s,type:r,children:t})}},9628:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var l=t(7437);function a(e){let{title:s,children:t,className:a}=e;return(0,l.jsxs)("div",{className:"border p-4 rounded bg-white mx-4 ".concat(a),children:[(0,l.jsx)("h1",{className:"text-xl border-b   pb-2",children:s}),(0,l.jsx)("div",{children:t})]})}}},function(e){e.O(0,[28,158,971,117,744],function(){return e(e.s=2820)}),_N_E=e.O()}]);